{"version":3,"sources":["images/defaultImg.jpg","Component/MoviesList/MoviesList.jsx","pages/HomePage/HomePage.module.css","Component/FormSearch/FormSearch.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","Component/FormSearch/FormSearch.jsx","pages/MoviePage/MoviesPage.jsx"],"names":["MoviesList","movie_list","titleHeader","location","useLocation","className","s","TitleHeader","length","MovieGallery","map","id","title","backdrop_path","MovieGalleryItem","to","pathname","state","from","label","src","defaultImage","alt","MovieGalleryItemImage","TitleFilm","NotFound","module","exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","FormSearch","onFormSubmit","useState","searchMovie","setSearchMovie","history","useHistory","resetForm","SearchForm","onSubmit","e","preventDefault","trim","search","toast","error","autoClose","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","name","onChange","currentTarget","toLowerCase","MoviePage","movieList","setMovieList","useEffect","getMovieList","query","URLSearchParams","get","getSearchMovie","then","results","catch","movie"],"mappings":"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","file":"static/js/movie-page.642096c2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/defaultImg.2e01288c.jpg\";","import PropTypes from \"prop-types\";\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport s from '../../pages/HomePage/HomePage.module.css'\r\nimport defaultImage from \"../../images/defaultImg.jpg\";\r\n\r\n\r\nconst MoviesList = ({movie_list, titleHeader }) => {\r\n    const location = useLocation();\r\n    \r\n    return (\r\n        <>\r\n            {movie_list && (\r\n                <>\r\n                    <h2 className={s.TitleHeader}>{titleHeader}</h2>\r\n                    {movie_list.length > 0 ? (\r\n                        <ul className={s.MovieGallery}>\r\n                            {movie_list.map(({ id, title, backdrop_path }) => (\r\n                                <li className={s.MovieGalleryItem} key={id}>\r\n                                    <Link to={{\r\n                                        pathname: `/movies/${id}`,\r\n                                        state: {\r\n                                            from: \r\n                                                location,                                                \r\n                                                label: 'Go Back'\r\n                                            },\r\n                                            \r\n                                        }\r\n                                        \r\n                                    }>\r\n                    \r\n                                        <img\r\n                                            src={\r\n                                                backdrop_path\r\n                                                    ? `https://image.tmdb.org/t/p/w500/${backdrop_path}`\r\n                                                    : defaultImage\r\n                                            }\r\n                                            alt={title}\r\n                                            className={s.MovieGalleryItemImage}\r\n                                        />\r\n                                        <h3 className={s.TitleFilm}>\r\n                                            {title ? title : \"The Best Movie\"}\r\n                                        </h3>\r\n                                    </Link>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    ) : (\r\n                        <h2 className={`${s.TitleHeader} ${s.NotFound}`}>Not Found!</h2>\r\n                    )}\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  movie_list: PropTypes.arrayOf(PropTypes.object),\r\n  titleHeader: PropTypes.string,\r\n};\r\n\r\nexport default MoviesList;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TitleHeader\":\"HomePage_TitleHeader__39O1O\",\"NotFound\":\"HomePage_NotFound__1M8Uv\",\"MovieGallery\":\"HomePage_MovieGallery__nXB2y\",\"MovieGalleryItem\":\"HomePage_MovieGalleryItem__2_ykF\",\"MovieGalleryItemImage\":\"HomePage_MovieGalleryItemImage__OsTqL\",\"TitleFilm\":\"HomePage_TitleFilm__3IrSv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"FormSearch_SearchForm__1FYDx\",\"SearchForm_button\":\"FormSearch_SearchForm_button__3-IBI\",\"SearchForm_button_label\":\"FormSearch_SearchForm_button_label__3itNw\",\"SearchForm_input\":\"FormSearch_SearchForm_input__3-Z94\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\n\nimport s from \"./FormSearch.module.css\";\n\nconst FormSearch = ({ onFormSubmit }) => {\n  const [searchMovie, setSearchMovie] = useState(\"\");\n  const history = useHistory();\n  const location = useLocation();\n  const handleInputChange = (e) => {\n    const { value } = e.currentTarget;\n    setSearchMovie(value.toLowerCase());\n  };\n\n  const handleSubmitForm = (e) => {\n    e.preventDefault();\n    if (searchMovie.trim() === \"\") {\n      toast.error(\"Please enter your request\", { autoClose: 3000 });\n      return;\n    }\n    history.push({ ...location, search:`query=${searchMovie}`})\n    onFormSubmit(searchMovie);\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setSearchMovie(\"\");\n  };\n\n  return (\n    <form className={s.SearchForm} onSubmit={handleSubmitForm}>\n      <button type=\"submit\" className={s.SearchForm_button}>\n        <span className={s.SearchForm_button_label}>Search</span>\n      </button>\n\n      <input\n        className={s.SearchForm_input}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        name=\"searchMovie\"\n        value={searchMovie}\n        onChange={handleInputChange}\n      />\n    </form>\n  );\n};\n\nFormSearch.propTypes = {\n  onFormSubmit: PropTypes.func,\n};\n\nexport default FormSearch;\n","import { useState, useEffect} from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useLocation } from \"react-router-dom\";\nimport FormSearch from \"../../Component/FormSearch/FormSearch\";\nimport MoviesList from \"../../Component/MoviesList/MoviesList\";\nimport { getSearchMovie } from \"../../MoviesAPI/MoviesAPI\";\n\n\nconst MoviePage = () => {\n  const [searchMovie, setSearchMovie] = useState(\"\");\n  const [movieList, setMovieList] = useState([]);\n  const location = useLocation();\n  \n  useEffect(() => {\n    if (searchMovie !== \"\") {\n       getMovieList();\n    }\n   \n  }, [searchMovie]);\n\n  useEffect(() => {\n    const query = new URLSearchParams(location.search).get(\"query\");\n    if (query) {\n      getSearchMovie(query)\n        .then(({ results }) => {\n          if (results.length === 0) {\n            toast.error(`Nothing was found on ${query}!`);\n            return;\n          }\n          setSearchMovie(query);\n          setMovieList(results);\n        }\n        )\n        .catch((error) => toast(error));\n    }\n  }, [location.search]);\n\n  const getMovieList = () => {\n    getSearchMovie(searchMovie)\n      .then(({ results }) => setMovieList(results))\n      .catch((e) => toast(e));\n  };\n\n  const onFormSubmit = (movie) => {\n    setSearchMovie(movie);\n    \n  };\n\n  return (\n    <>\n      <FormSearch \n        onFormSubmit={onFormSubmit} />\n      {searchMovie && (\n        <MoviesList          \n          movie_list={movieList}\n          titleHeader={`Your search: ${searchMovie}`}\n        />\n      )}\n    </>\n  );\n};\n\nexport default MoviePage;\n"],"sourceRoot":""}