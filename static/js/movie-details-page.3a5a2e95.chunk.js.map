{"version":3,"sources":["images/defaultImg.jpg","pages/MovieDetailsPage/Links/MovieDetPageLinks.module.css","pages/MovieDetailsPage/MovieDetailsPage.module.css","pages/MovieDetailsPage/Links/MovieDetPageLinks.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["module","exports","MovieDetPagesLinks","url","useRouteMatch","location","useLocation","to","pathname","state","from","label","exact","className","s","Link","activeClassName","ActiveLink","Cast","lazy","Reviews","MovieDetailsPage","useState","movieDetails","setMovieDetails","movie_id","useParams","history","useHistory","useEffect","getDetails","getMovieDetails","then","data","catch","error","toast","type","goBackButton","onClick","push","details","title","original_title","release_date","genres","genres__item","map","id","name","src","backdrop_path","defaultImage","alt","details__img","production_companies","origin_country","overview","fallback","Loader","path"],"mappings":"yIAAe,QAA0B,wC,mBCCzCA,EAAOC,QAAU,CAAC,KAAO,gCAAgC,WAAa,sE,mBCAtED,EAAOC,QAAU,CAAC,QAAU,kCAAkC,MAAQ,gCAAgC,QAAU,kCAAkC,OAAS,iCAAiC,aAAe,uCAAuC,SAAW,mCAAmC,aAAe,uCAAuC,aAAe,yC,wGCwCtVC,EArCY,WACzB,IAAQC,EAAQC,cAARD,IAEFE,EAAWC,cACjB,OACE,gCACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,GAAD,OAAKL,EAAL,SACRM,MAAO,CACLC,KAAKL,EAASI,MAAMJ,EAASI,MAAMC,KAAK,IAChDC,MAAM,mBAGFC,OAAK,EACLC,UAAWC,IAAEC,KACbC,gBAAiBF,IAAEG,WAVrB,kBAcA,cAAC,IAAD,CACEV,GAAI,CACFC,SAAS,GAAD,OAAKL,EAAL,YACRM,MAAM,CACJC,KAAKL,EAASI,MAAMJ,EAASI,MAAMC,KAAO,IAC1CC,MAAM,mBAGVE,UAAWC,IAAEC,KACbC,gBAAiBF,IAAEG,WATrB,yB,yCCXAC,EAAOC,gBAAK,kBAAM,gCAClBC,EAAUD,gBAAK,kBAAM,gCA0FZE,UAxFU,WACvB,MAAwCC,mBAAS,MAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACQC,EAAaC,cAAbD,SACFE,EAAUC,cACVvB,EAAWC,cAGjBuB,qBAAU,WACRC,MAEG,CAACL,IAEN,IAAMK,EAAa,WACjBC,YAAgBN,GACbO,MAAK,SAACC,GAAD,OAAUT,EAAgBS,MAE/BC,OAAM,SAACC,GAAD,OAAWC,IAAMD,MAAM,+BASlC,OACE,qCACE,wBAAQE,KAAK,SACXxB,UAAWC,IAAEwB,aACbC,QATe,WAAO,IAAD,EACzBZ,EAAQa,MAAK,UAAAnC,EAASI,aAAT,eAAgBC,MAAOL,EAASI,MAAMC,KAAO,MAMxD,qBAICa,GACC,sBAAKV,UAAWC,IAAE2B,QAAlB,UACE,oBAAI5B,UAAWC,IAAE4B,MAAjB,SAAyBnB,EAAaoB,iBACtC,oBAAG9B,UAAWC,IAAE4B,MAAhB,2BAAsCnB,EAAaqB,gBACnD,oBAAG/B,UAAWC,IAAE+B,OAAhB,oBAEE,uBACA,sBAAMhC,UAAWC,IAAEgC,aAAnB,SACGvB,EAAasB,OAAOE,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAP,OACvB,yCAAmBA,EAAnB,OAAWD,WAIjB,qBACEE,IACE3B,EAAa4B,cAAb,0CACuC5B,EAAa4B,eAChDC,IAENC,IAAI,QACJxC,UAAWC,IAAEwC,eAGf,oBAAGzC,UAAWC,IAAE+B,OAAhB,kCAEE,uBACA,+BACGtB,EAAagC,qBAAqBR,KACjC,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAMO,EAAb,EAAaA,eAAb,OACE,sBAAe3C,UAAWC,IAAEgC,aAA5B,mBACMG,EADN,YACcO,GAAc,WAAQA,EAAR,KAD5B,OAAWR,WAOnB,oBAAGnC,UAAWC,IAAE+B,OAAhB,sBAEE,uBACA,sBAAMhC,UAAWC,IAAE2C,SAAnB,SAA8BlC,EAAakC,cAG7C,cAAC,EAAD,IACA,eAAC,WAAD,CAAUC,SAAU,cAACC,EAAA,EAAD,IAApB,UACE,cAAC,IAAD,CAAOC,KAAK,yBAAZ,SACE,cAAC1C,EAAD,MAEF,cAAC,IAAD,CAAO0C,KAAK,4BAAZ,SACE,cAACxC,EAAD","file":"static/js/movie-details-page.3a5a2e95.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/defaultImg.2e01288c.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"MovieDetPageLinks_Link__1HluY\",\"ActiveLink\":\"MovieDetPageLinks_ActiveLink__-6hT1 MovieDetPageLinks_Link__1HluY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"MovieDetailsPage_details__2AaO8\",\"title\":\"MovieDetailsPage_title__2z450\",\"release\":\"MovieDetailsPage_release__20Jsk\",\"genres\":\"MovieDetailsPage_genres__Jvt7q\",\"genres__item\":\"MovieDetailsPage_genres__item__howUR\",\"overview\":\"MovieDetailsPage_overview__31Sk0\",\"details__img\":\"MovieDetailsPage_details__img__2YuRK\",\"goBackButton\":\"MovieDetailsPage_goBackButton__24h_5\"};","import { NavLink, useRouteMatch, useLocation } from \"react-router-dom\";\n\nimport s from \"./MovieDetPageLinks.module.css\";\n\nconst MovieDetPagesLinks = () => {\n  const { url } = useRouteMatch();\n  \n  const location = useLocation();\n  return (\n    <nav>\n      <NavLink\n        to={{\n          pathname: `${url}/cast`,\n          state: {\n            from:location.state?location.state.from:'/',\n    label:\"back to movies\",\n          },\n        }}\n        exact\n        className={s.Link}\n        activeClassName={s.ActiveLink}\n      >\n        Cast\n      </NavLink>\n      <NavLink\n        to={{\n          pathname: `${url}/reviews`,\n          state:{\n            from:location.state?location.state.from : '/',\n            label:\"back to movies\",\n          },\n        }}\n        className={s.Link}\n        activeClassName={s.ActiveLink}\n      >\n        Reviews\n      </NavLink>\n    </nav>\n  );\n};\n\nexport default MovieDetPagesLinks;\n","import React, { useState, useEffect, lazy, Suspense } from \"react\";\nimport { Route, useParams, useHistory, useLocation} from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport MovieDetPagesLinks from \"./Links/MovieDetPageLinks\";\nimport Loader from \"../../Component/Loader/Loader\";\n\nimport { getMovieDetails } from \"../../MoviesAPI/MoviesAPI\";\nimport defaultImage from \"../../images/defaultImg.jpg\";\n\nimport s from \"./MovieDetailsPage.module.css\";\n\n\nconst Cast = lazy(() => import(\"../Cast/Cast\" /*webpackChunkName:\"cast\"*/));\nconst Reviews = lazy(() => import(\"../Reviews/Reviews\" /*webpackChunkName:\"reviews\"*/));\n\nconst MovieDetailsPage = () => {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const { movie_id } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n\n      \n  useEffect(() => {\n    getDetails();\n    \n    }, [movie_id])\n\n  const getDetails = () => {\n    getMovieDetails(movie_id)\n      .then((data) => setMovieDetails(data))\n      \n      .catch((error) => toast.error('Sorry, no reviews found'));\n    \n  };\n  \n  const goBackButton = () => {\n    history.push(location.state?.from ? location.state.from : \"/\");\n    \n  }\n\n  return (\n    <>\n      <button type=\"button\"\n        className={s.goBackButton}\n        onClick={goBackButton}>Go Back</button>\n     \n      {movieDetails && (\n        <div className={s.details}>\n          <h1 className={s.title}>{movieDetails.original_title}</h1>\n          <p className={s.title}>Release date: {movieDetails.release_date}</p>\n          <p className={s.genres}>\n            Genres:\n            <br />\n            <span className={s.genres__item}>\n              {movieDetails.genres.map(({ id, name }) => (\n                <span key={id}>{`${name}, `}</span>\n              ))}\n            </span>\n          </p>\n          <img\n            src={\n              movieDetails.backdrop_path\n                ? `https://image.tmdb.org/t/p/w500/${movieDetails.backdrop_path}`\n                : defaultImage\n            }\n            alt=\"movie\"\n            className={s.details__img}\n          />\n\n          <p className={s.genres}>\n            Production companies:\n            <br />\n            <span>\n              {movieDetails.production_companies.map(\n                ({ id, name, origin_country }) => (\n                  <span key={id} className={s.genres__item}>\n                    {`${name} ${origin_country && `(${origin_country})`}, `}\n                  </span>\n                )\n              )}\n            </span>\n          </p>\n          <p className={s.genres}>\n            Overview:\n            <br />\n            <span className={s.overview}>{movieDetails.overview}</span>\n          </p>\n\n          <MovieDetPagesLinks />\n          <Suspense fallback={<Loader />}>\n            <Route path=\"/movies/:movie_id/cast\">\n              <Cast />\n            </Route>\n            <Route path=\"/movies/:movie_id/reviews\">\n              <Reviews />\n            </Route>\n          </Suspense>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}