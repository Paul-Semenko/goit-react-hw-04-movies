{"version":3,"sources":["images/defaultImg.jpg","pages/MovieDetailsPage/Links/MovieDetPageLinks.module.css","pages/MovieDetailsPage/MovieDetailsPage.module.css","pages/MovieDetailsPage/Links/MovieDetPageLinks.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["module","exports","MovieDetPagesLinks","url","useRouteMatch","location","useLocation","to","pathname","state","from","label","exact","className","s","Link","activeClassName","ActiveLink","Cast","lazy","Reviews","MovieDetailsPage","useState","movieDetails","setMovieDetails","movie_id","useParams","history","useHistory","pathBack","useRef","requestBack","search","useEffect","getDetails","getMovieDetails","then","data","catch","error","toast","goBackButton","useCallback","push","current","type","onClick","details","title","original_title","release_date","genres","genres__item","map","id","name","src","backdrop_path","defaultImage","alt","details__img","production_companies","origin_country","overview","fallback","Loader","path"],"mappings":"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","file":"static/js/movie-details-page.05ac63d4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/defaultImg.2e01288c.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"MovieDetPageLinks_Link__1HluY\",\"ActiveLink\":\"MovieDetPageLinks_ActiveLink__-6hT1 MovieDetPageLinks_Link__1HluY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"MovieDetailsPage_details__2AaO8\",\"title\":\"MovieDetailsPage_title__2z450\",\"release\":\"MovieDetailsPage_release__20Jsk\",\"genres\":\"MovieDetailsPage_genres__Jvt7q\",\"genres__item\":\"MovieDetailsPage_genres__item__howUR\",\"overview\":\"MovieDetailsPage_overview__31Sk0\",\"details__img\":\"MovieDetailsPage_details__img__2YuRK\",\"goBackButton\":\"MovieDetailsPage_goBackButton__24h_5\"};","import { NavLink, useRouteMatch, useLocation } from \"react-router-dom\";\n\nimport s from \"./MovieDetPageLinks.module.css\";\n\nconst MovieDetPagesLinks = () => {\n  const { url } = useRouteMatch();\n  \n  const location = useLocation();\n  return (\n    <nav>\n      <NavLink\n        to={{\n          pathname: `${url}/cast`,\n          state: {\n            from:location.state?location.state.from:'/',\n    label:\"back to movies\",\n          },\n        }}\n        exact\n        className={s.Link}\n        activeClassName={s.ActiveLink}\n      >\n        Cast\n      </NavLink>\n      <NavLink\n        to={{\n          pathname: `${url}/reviews`,\n          state:{\n            from:location.state?location.state.from : '/',\n            label:\"back to movies\",\n          },\n        }}\n        className={s.Link}\n        activeClassName={s.ActiveLink}\n      >\n        Reviews\n      </NavLink>\n    </nav>\n  );\n};\n\nexport default MovieDetPagesLinks;\n","import React, { useState, useEffect, lazy, Suspense, useCallback, useRef } from \"react\";\nimport { Route, useParams, useHistory, useLocation } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport MovieDetPagesLinks from \"./Links/MovieDetPageLinks\";\nimport Loader from \"../../Component/Loader/Loader\";\n\nimport { getMovieDetails } from \"../../MoviesAPI/MoviesAPI\";\nimport defaultImage from \"../../images/defaultImg.jpg\";\n\nimport s from \"./MovieDetailsPage.module.css\";\n\n\nconst Cast = lazy(() => import(\"../Cast/Cast\" /*webpackChunkName:\"cast\"*/));\nconst Reviews = lazy(() => import(\"../Reviews/Reviews\" /*webpackChunkName:\"reviews\"*/));\n\nconst MovieDetailsPage = () => {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const { movie_id } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n\n    const pathBack = useRef(location?.state?.from ?? \"/\");\n    const requestBack = useRef(location?.state?.search ?? \"\");\n  \n  useEffect(() => {\n    getDetails();\n    \n    }, [movie_id])\n\n  const getDetails = () => {\n    getMovieDetails(movie_id)\n      .then((data) => setMovieDetails(data))\n      \n      .catch((error) => toast.error('Sorry, no reviews found'));\n    \n  };\n  const goBackButton = useCallback(() => {\n    history.push({\n      pathname: pathBack.current,\n      search: requestBack.current\n    })\n  }, [history]);\n  // const goBackButton = () => {\n  //   history.push(location?.state?.from ?? \"/\")\n    \n  // }\n\n  return (\n    <>\n      <button type=\"button\"\n        className={s.goBackButton}\n        onClick={goBackButton}> Go Back</button>\n      {movieDetails && (\n        <div className={s.details}>\n          <h1 className={s.title}>{movieDetails.original_title}</h1>\n          <p className={s.title}>Release date: {movieDetails.release_date}</p>\n          <p className={s.genres}>\n            Genres:\n            <br />\n            <span className={s.genres__item}>\n              {movieDetails.genres.map(({ id, name }) => (\n                <span key={id}>{`${name}, `}</span>\n              ))}\n            </span>\n          </p>\n          <img\n            src={\n              movieDetails.backdrop_path\n                ? `https://image.tmdb.org/t/p/w500/${movieDetails.backdrop_path}`\n                : defaultImage\n            }\n            alt=\"movie\"\n            className={s.details__img}\n          />\n\n          <p className={s.genres}>\n            Production companies:\n            <br />\n            <span>\n              {movieDetails.production_companies.map(\n                ({ id, name, origin_country }) => (\n                  <span key={id} className={s.genres__item}>\n                    {`${name} ${origin_country && `(${origin_country})`}, `}\n                  </span>\n                )\n              )}\n            </span>\n          </p>\n          <p className={s.genres}>\n            Overview:\n            <br />\n            <span className={s.overview}>{movieDetails.overview}</span>\n          </p>\n\n          <MovieDetPagesLinks />\n          <Suspense fallback={<Loader />}>\n            <Route path=\"/movies/:movie_id/cast\">\n              <Cast />\n            </Route>\n            <Route path=\"/movies/:movie_id/reviews\">\n              <Reviews />\n            </Route>\n          </Suspense>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}